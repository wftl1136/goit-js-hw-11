{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport 'flatpickr/dist/themes/material_blue.css';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport iconError from '../img/error.svg';\nimport iconHello from '../img/hello.svg';\n\nlet userSelectedDate;\nlet interval;\nlet newInterval;\nconst timer = document.querySelector('.timer');\nconst startButton = document.querySelector('button[data-start]');\nconst inputData = document.getElementById('datetime-picker');\nconst day = document.querySelector('span[data-days]');\nconst hour = document.querySelector('span[data-hours]');\nconst minute = document.querySelector('span[data-minutes]');\nconst second = document.querySelector('span[data-seconds]');\n\nsetTimeout(() => {\n  iziToast.show({\n    title: 'Hello',\n    message: 'Welcome to Timer!',\n    titleColor: '#FFFFFF',\n    messageColor: '#FFFFFF',\n    position: 'bottomRight',\n    backgroundColor: '#0099FF',\n    iconUrl: iconHello,\n  });\n}, 1000);\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    if (userSelectedDate && userSelectedDate <= new Date()) {\n      startButton.setAttribute('disabled', 'true');\n\n      iziToast.show({\n        title: 'Error!',\n        message: 'Please choose a date in the future',\n        titleColor: '#FFFFFF',\n        messageColor: '#FFFFFF',\n        position: 'topRight',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n        iconUrl: iconError,\n      });\n    } else {\n      startButton.removeAttribute('disabled');\n    }\n  },\n};\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  flatpickr('#datetime-picker', options);\n});\n\nstartButton.addEventListener('click', dataTimer);\n\nfunction dataTimer() {\n  if (!userSelectedDate) {\n    return;\n  }\n  inputData.disabled = true;\n  const currentDate = new Date();\n  let differenceData = userSelectedDate - currentDate;\n  startButton.setAttribute('disabled', 'true');\n\n  interval = setInterval(() => {\n    const currentDate = new Date();\n    newInterval = userSelectedDate - currentDate;\n    if (newInterval <= 0 && differenceData > 0) {\n      clearInterval(interval);\n      inputData.disabled = false;\n      timer.querySelectorAll('.value, .label').forEach(element => {\n        element.classList.remove('active');\n      });\n\n      iziToast.show({\n        title: 'Warning!',\n        message: 'Час до даної події минув!',\n        titleColor: '#bd34fe',\n        messageColor: '#25acda',\n        position: 'center',\n        backgroundColor: '#d4cec7f3',\n      });\n      return;\n    }\n    displayData();\n  }, 1000);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n//console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n//console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n//console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n\nfunction addLeadingZero(value) {\n  return value.toString().padStart(2, '0');\n}\n\nfunction displayData(value) {\n  timer.querySelectorAll('.value, .label').forEach(element => {\n    element.classList.add('active');\n  });\n  const timeInterval = convertMs(newInterval);\n  day.textContent = addLeadingZero(timeInterval.days);\n  hour.textContent = addLeadingZero(timeInterval.hours);\n  minute.textContent = addLeadingZero(timeInterval.minutes);\n  second.textContent = addLeadingZero(timeInterval.seconds);\n}"],"names":["userSelectedDate","interval","newInterval","timer","startButton","inputData","day","hour","minute","second","iziToast","iconHello","options","selectedDates","iconError","flatpickr","dataTimer","differenceData","element","displayData","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","value","timeInterval"],"mappings":"4IASA,IAAIA,EACAC,EACAC,EACJ,MAAMC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAY,SAAS,eAAe,iBAAiB,EACrDC,EAAM,SAAS,cAAc,iBAAiB,EAC9CC,EAAO,SAAS,cAAc,kBAAkB,EAChDC,EAAS,SAAS,cAAc,oBAAoB,EACpDC,EAAS,SAAS,cAAc,oBAAoB,EAE1D,WAAW,IAAM,CACfC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,oBACT,WAAY,UACZ,aAAc,UACd,SAAU,cACV,gBAAiB,UACjB,QAASC,CACb,CAAG,CACH,EAAG,GAAI,EAEP,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBb,EAAmBa,EAAc,CAAC,EAC9Bb,GAAoBA,GAAoB,IAAI,MAC9CI,EAAY,aAAa,WAAY,MAAM,EAE3CM,EAAS,KAAK,CACZ,MAAO,SACP,QAAS,qCACT,WAAY,UACZ,aAAc,UACd,SAAU,WACV,gBAAiB,UACjB,SAAU,WACV,QAASI,CACjB,CAAO,GAEDV,EAAY,gBAAgB,UAAU,CAEzC,CACH,EAEA,SAAS,iBAAiB,mBAAoB,UAAY,CACxDW,EAAU,mBAAoBH,CAAO,CACvC,CAAC,EAEDR,EAAY,iBAAiB,QAASY,CAAS,EAE/C,SAASA,GAAY,CACnB,GAAI,CAAChB,EACH,OAEFK,EAAU,SAAW,GAErB,IAAIY,EAAiBjB,EADD,IAAI,KAExBI,EAAY,aAAa,WAAY,MAAM,EAE3CH,EAAW,YAAY,IAAM,CAG3B,GADAC,EAAcF,EADM,IAAI,KAEpBE,GAAe,GAAKe,EAAiB,EAAG,CAC1C,cAAchB,CAAQ,EACtBI,EAAU,SAAW,GACrBF,EAAM,iBAAiB,gBAAgB,EAAE,QAAQe,GAAW,CAC1DA,EAAQ,UAAU,OAAO,QAAQ,CACzC,CAAO,EAEDR,EAAS,KAAK,CACZ,MAAO,WACP,QAAS,4BACT,WAAY,UACZ,aAAc,UACd,SAAU,SACV,gBAAiB,WACzB,CAAO,EACD,MACD,CACDS,GACD,EAAE,GAAI,CACT,CAEA,SAASC,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAMA,SAASC,EAAeC,EAAO,CAC7B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CACzC,CAEA,SAASR,EAAYQ,EAAO,CAC1BxB,EAAM,iBAAiB,gBAAgB,EAAE,QAAQe,GAAW,CAC1DA,EAAQ,UAAU,IAAI,QAAQ,CAClC,CAAG,EACD,MAAMU,EAAeR,EAAUlB,CAAW,EAC1CI,EAAI,YAAcoB,EAAeE,EAAa,IAAI,EAClDrB,EAAK,YAAcmB,EAAeE,EAAa,KAAK,EACpDpB,EAAO,YAAckB,EAAeE,EAAa,OAAO,EACxDnB,EAAO,YAAciB,EAAeE,EAAa,OAAO,CAC1D"}